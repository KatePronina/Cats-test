!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(this instanceof e?this.constructor:void 0)===e)throw new Error("")}var t,n,o;return t=e,o=[{key:"clearContainer",value:function(){document.querySelector(".wrapper").innerHTML=""}}],(n=[{key:"appendElement",value:function(e){document.querySelector(".wrapper").appendChild(e)}}])&&i(t.prototype,n),o&&i(t,o),e}();function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).call(this))}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o),n=t,(i=[{key:"getElement",value:function(){this._element&&this.appendElement(this._element),this._element=document.createElement("section"),this._element.classList.add("section","screen"),this._element.innerHTML=this.render(),this.bind(this._element),this.appendElement(this._element)}},{key:"render",value:function(){return'\n        <h1 class="section__title">Мяу-тест: Угадаете породы кошек по фото?</h1>\n        <p class="section__description">\n            Любить кошек все умеют, а вот знать, какая порода как выглядит, - не особо! Но, может, это не про вас? Сможете набрать 10/10 в этом тесте на знание пород кошек?\n        </p>\n        <section class="rules section__rules">\n            <h2 class="rules__title">Правила</h2>\n            <ul class="rules__description">\n                <li class="rules__item">Угадай 10 раз породу для каждого изображения кота</li>\n                <li class="rules__item">Длительность каждой попытки 30 секунд</li>\n                <li class="rules__item">Более 3х раз ошибиться нельзя</li>\n            </ul>\n        </section>\n        <form action="#" class="section__form">\n            <input class="section__form-input" type="text" placeholder="Введите Ваше имя" required>\n            <button class="section__form-btn" type="submit">Поехали!</button>\n        </form>'}},{key:"bind",value:function(e){var t=this,n=e.querySelector(".section__form"),i=e.querySelector(".section__form-input");n.addEventListener("submit",function(){t.onSubmit(i)})}},{key:"onSubmit",value:function(){}}])&&a(n.prototype,i),r&&a(n,r),t}();var f=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.start=new c,o.clearContainer(),this.start.getElement(),this.start.onSubmit=function(e){F.showQuestion(e.value)}};function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m(this,y(t).call(this))).state=e,n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o),n=t,(i=[{key:"getElement",value:function(){this._element&&this.appendElement(this._element),this._element=document.createElement("header"),this._element.classList.add("header","question__header"),this._element.innerHTML=this.render(),this.appendElement(this._element),this.bind(this._element)}},{key:"render",value:function(){return'\n        <button class="back header__back" type="button">Вернуться к началу</button>\n        <span class="timer header__timer">30</span>\n        <p class="lives header__lives">Осталось жизней: <span class="lives__number">'.concat(this.state.lives,"</span></p>")}},{key:"bind",value:function(e){var t=this;e.querySelector(".back").addEventListener("click",function(){t.onBack()})}},{key:"updateTime",value:function(e){this._element.querySelector(".header__timer").textContent=e+""}},{key:"onBack",value:function(){}}])&&p(n.prototype,i),r&&p(n,r),t}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=w(this,g(t).call(this))).state=e,i.questions=n,i}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,o),n=t,(i=[{key:"getElement",value:function(){this._element&&this.appendElement(this._element),this._element=document.createElement("section"),this._element.classList.add("task"),this._element.innerHTML=this.render(),this.appendElement(this._element),this.bind(this._element)}},{key:"render",value:function(){return'\n        <p class="task__title">Какая это порода?</p>\n        <div class="task__image">\n            <picture>\n            <source srcset="img/webp/'.concat(this.questions[this.state.level].image,'.webp" type="image/webp">\n            <img src="img/').concat(this.questions[this.state.level].image,'.jpg" alt="Какая это порода?" class="task__img">\n            </picture>\n        </div>\n        <form action="#" class="task__answers">\n            <input id="').concat(this.questions[this.state.level].options[0].value,'" type="radio" name="task1" value="').concat(this.questions[this.state.level].options[0].value,'" class="task__input">\n            <label for="').concat(this.questions[this.state.level].options[0].value,'" class="task__answer">').concat(this.questions[this.state.level].options[0].name,'</label>\n\n            <input id="').concat(this.questions[this.state.level].options[1].value,'" type="radio" name="task1" value="').concat(this.questions[this.state.level].options[1].value,'" class="task__input">\n            <label for="').concat(this.questions[this.state.level].options[1].value,'" class="task__answer">').concat(this.questions[this.state.level].options[1].name,'</label>\n\n            <input id="').concat(this.questions[this.state.level].options[2].value,'" type="radio" name="task1" value="').concat(this.questions[this.state.level].options[2].value,'" class="task__input">\n            <label for="').concat(this.questions[this.state.level].options[2].value,'" class="task__answer">').concat(this.questions[this.state.level].options[2].name,"</label>\n        </form>")}},{key:"bind",value:function(e){for(var t=this,n=e.querySelectorAll(".task__input"),i=0;i<n.length;i++)n[i].addEventListener("change",function(e){t.onAnswer(e.target.value)})}},{key:"onAnswer",value:function(e){}},{key:"onBack",value:function(){}}])&&_(n.prototype,i),r&&_(n,r),t}(),E={lives:3,level:0,time:30,answers:[],userName:""},S=[{options:[{name:"Бирманская",value:"birman"},{name:"Бенгальская",value:"bengal"},{name:"Балинезийская",value:"balinez"}],right:"birman",image:"task1"},{options:[{name:"Британская",value:"british"},{name:"Бомбейская",value:"bomley"},{name:"Гималайская",value:"gimalay"}],right:"gimalay",image:"task2"},{options:[{name:"Европейская",value:"european"},{name:"Девон-рекс",value:"reks"},{name:"Бурмилла",value:"burmil"}],right:"reks",image:"task3"},{answers:["bobtail","cornish","egyptian"],options:[{name:"Курильский бобтейл",value:"bobtail"},{name:"Корниш-рекс",value:"cornish"},{name:"Египетская мау",value:"egyptian"}],right:"bobtail",image:"task4"},{options:[{name:"Оцикет",value:"ocicat"},{name:"Манчкин",value:"munchkin"},{name:"Египетская мау",value:"egyptian"}],right:"ocicat",image:"task5"},{options:[{name:"Британская",value:"british"},{name:"Манчкин",value:"munchkin"},{name:"Сомали",value:"somali"}],right:"somali",image:"task6"},{options:[{name:"Шантильи Тиффани",value:"tiffany"},{name:"Сфинкс",value:"sphinx"},{name:"Корниш-рекс",value:"cornish"}],right:"tiffany",image:"task7"},{options:[{name:"Персидская",value:"pers"},{name:"Сфинкс",value:"sphinx"},{name:"Норвежская лесная",value:"norway"}],right:"pers",image:"task8"},{options:[{name:"Сингапурская",value:"singapore"},{name:"Русская голубая",value:"russian"},{name:"Сибирская",value:"sibir"}],right:"singapore",image:"task9"},{options:[{name:"Шотландская длинношерстная",value:"scottish"},{name:"Тайская",value:"thai"},{name:"Сибирская",value:"sibir"}],right:"scottish",image:"task10"}];function j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var T=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t,this.header=new b(this.model.state),this.question=new O(this.model.state,S),this.model.name=this.model.userName,this.time=this.model._state.time,this.timer,o.clearContainer(),this.header.getElement(),this.question.getElement(),this.startTimer(),this.header.onBack=function(){n.model.restart(),n.stopTimer()},this.model.onRestart=function(){o.clearContainer(),F.showStart()},this.question.onAnswer=function(e){n.stopTimer(),n.model.checkAnswer(e),n.model.updateLevel()},this.model.onUpdateLevel=function(){n.header=new b(n.model.state),n.question=new O(n.model.state,S),o.clearContainer(),n.header.getElement(),n.question.getElement(),n.startTimer(),n.question.onAnswer=function(e){n.stopTimer(),n.model.checkAnswer(e),n.model.updateLevel()},n.header.onBack=function(){n.model.restart(),n.stopTimer()}},this.model.onUpdateFinal=function(){o.clearContainer(),F.showFinal(n.model)}}var t,n,i;return t=e,(n=[{key:"stopTimer",value:function(){clearTimeout(this.timer),this.time=this.model._state.time}},{key:"tick",value:function(){this.time--,this.header.updateTime(this.time)}},{key:"startTimer",value:function(){var e=this;this.timer=setTimeout(function(){0===e.time?e.question.onAnswer(!1):(e.tick(),e.startTimer())},1e3)}}])&&j(t.prototype,n),i&&j(t,i),e}();function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function C(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(e,n,i){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=C(this,L(t).call(this))).state=e,o.result=n,o.rightAnswers=i,o}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,o),n=t,(i=[{key:"getElement",value:function(){this._element&&this.appendElement(this._element),this._element=document.createElement("section"),this._element.classList.add("final","screen"),this._element.innerHTML=this.render(),this.bind(this._element),this.appendElement(this._element)}},{key:"render",value:function(){return'\n        <header class="header final__header">\n            <button class="back header__back" type="button">Вернуться к началу</button>\n        </header>\n        <section class="result final__resulr">\n        <h2 class="result__title">Тест пройден!</h2>\n        <p>'.concat(this.state.userName,", Вы набрали ").concat(this.result," баллов и ").concat(this.rightAnswers," правильных ответов!</p>\n        <p>").concat(this.rightAnswers>5?"Поздравляем!":"В следующий раз будет лучше","</p>\n        </section>")}},{key:"bind",value:function(e){var t=this;e.querySelector(".back").addEventListener("click",function(){t.onClick()})}},{key:"onClick",value:function(){}}])&&P(n.prototype,i),r&&P(n,r),t}();var R=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t,this.final=new x(this.model.state,this.model.countResult,this.model.countAnswers),this.final.getElement(),this.final.onClick=function(){n.model.restart()},this.model.onRestart=function(){o.clearContainer(),F.showStart()}};function M(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userName=t,this.restart()}var t,n,i;return t=e,(n=[{key:"checkAnswer",value:function(e){e===S[this._state.level].right?this._state.answers.push(!0):(this._state.answers.push(!1),this._state.lives-=1)}},{key:"updateLevel",value:function(){this._state.level+=1,this._state.level===S.length||0===this._state.lives?this.onUpdateFinal():this.onUpdateLevel()}},{key:"restart",value:function(){this._state=Object.assign({},E,{answers:[]}),this.onRestart()}},{key:"onRestart",value:function(){}},{key:"onUpdateFinal",value:function(){}},{key:"onUpdateLevel",value:function(){}},{key:"state",get:function(){return Object.assign({},this._state)}},{key:"name",set:function(e){this._state.userName=e}},{key:"countResult",get:function(){var e=5*this._state.lives;return this._state.answers.forEach(function(t){t&&(e+=10)}),e}},{key:"countAnswers",get:function(){var e=0;return this._state.answers.forEach(function(t){t&&e++}),e}}])&&M(t.prototype,n),i&&M(t,i),e}();function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"showStart",value:function(){new f}},{key:"showQuestion",value:function(e){var t=new U(e);new T(t)}},{key:"showFinal",value:function(e){new R(e)}}],(n=null)&&B(t.prototype,n),i&&B(t,i),e}();F.showStart()},function(e,t){}]);